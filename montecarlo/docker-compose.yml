version: '2.1'
services:
    sonarr:
        image: linuxserver/sonarr
        container_name: sonarr
        environment:
            - PUID=1000
            - PGID=100
            - TZ=America/Detroit
            - UMASK_SET=022
        volumes:
            - /home/luckierdodge/montecarlo-storage/config/sonarr/config:/config
            - /home/luckierdodge/havoc-data/media:/media
        ports:
          - 8989:8989
        restart: unless-stopped
    radarr:
        image: linuxserver/radarr
        container_name: radarr
        environment:
            - PUID=1000
            - PGID=100
            - TZ=America/Detroit
            - UMASK_SET=022
        volumes:
            - /home/luckierdodge/montecarlo-storage/config/radarr/config:/config
            - /home/luckierdodge/havoc-data/media:/media
        ports:
          - 7878:7878
        restart: unless-stopped
        #    jackett:
        #        image: linuxserver/jackett
        #        container_name: jackett
        #        environment:
        #            - PUID=1000
        #            - PGID=1000
        #            - TZ=America/Detroit
        #            - AUTO_UPDATE=true
        #        volumes:
        #            - /home/luckierdodge/montecarlo-storage/config/jackett/config:/config
        #            - /home/luckierdodge/havoc-data/jackett/downloads:/downloads
        #        network_mode: host
        #        restart: unless-stopped
        #    qbittorrent:
        #        image: linuxserver/qbittorrent
        #        container_name: qbittorrent
        #        environment:
        #            - PUID=1000
        #            - PGID=1000
        #            - TZ=America/Detroit
        #            - UMASK_SET=022
        #            - WEBUI_PORT=8080
        #        network_mode: host
        #        volumes:
        #            - /home/luckierdodge/montecarlo-storage/config/qbittorrent/config:/config
        #            - /home/luckierdodge/havoc-data/media:/media
        #        restart: "no"
    nzbget:
        image: lscr.io/linuxserver/nzbget
        container_name: nzbget
        environment:
            - PUID=1000
            - PGID=100
            - TZ=America/Detroit
        volumes:
            - /home/luckierdodge/montecarlo-storage/config/nzbget/config:/config
            - /home/luckierdodge/havoc-data/media:/media #optional
        ports:
            - 6789:6789
        restart: "no"
    autoheal:
        container_name: autoheal
        image: willfarrell/autoheal
        restart: unless-stopped
        network_mode: host
        environment:
            - AUTOHEAL_CONTAINER_LABEL=all
            - AUTOHEAL_INTERVAL=30
            - AUTOHEAL_START_PERIOD=60
            - AUTOHEAL_DEFAULT_STOP_TIMEOUT=30
        volumes: 
            - /var/run/docker.sock:/var/run/docker.sock
    ombi:
        image: ghcr.io/linuxserver/ombi
        container_name: ombi
        ports:
            - 3579:3579
        environment:
            - PUID=1000
            - PGID=100
            - TZ=America/Detroit
        volumes:
            - /home/luckierdodge/montecarlo-storage/config/ombi:/config
        restart: unless-stopped
    plex:
        container_name: plex
        image: plexinc/pms-docker
        restart: unless-stopped
        ports:
          - 32400:32400
        environment:
          - TZ=America/Detroit
          - PLEX_CLAIM=<https://www.plex.tv/claim>
          - ADVERTISE_IP=http://192.168.0.240:32400/
          - PLEX_UID=1000
          - PLEX_GID=100
        hostname: montecarlo
        volumes:
          - /home/luckierdodge/montecarlo-storage/config/plex/config:/config
          - /home/luckierdodge/montecarlo-storage/config/plex/transcode:/transcode
          - /home/luckierdodge/havoc-data/media:/data
          - /home/luckierdodge/media-storage:/media-storage
          - /home/luckierdodge/montecarlo-storage/data/nextcloud/luckierdodge/files/Music:/music
          - /home/luckierdodge/montecarlo-storage/data/nextcloud/luckierdodge/files/Pictures:/Pictures
    calibre:
        image: ghcr.io/linuxserver/calibre
        container_name: calibre
        environment:
          - PUID=1000
          - PGID=100
          - TZ=America/Detroit
          - PASSWORD=Simple123
          - UMASK_SET=022
        volumes:
          - /home/luckierdodge/montecarlo-storage/data/nextcloud/luckierdodge/files/Library:/Library
          - /home/luckierdodge/montecarlo-storage/data/calibre:/config
          - /home/luckierdodge/media-storage/books:/books
        ports:
          - 8080:8080
          - 8081:8081
          - 9090:9090
          - 9091:9091
        restart: unless-stopped
    calibre-web:
        image: ghcr.io/linuxserver/calibre-web
        container_name: calibre-web
        environment:
          - PUID=1000
          - PGID=100
          - TZ=America/Detroit
          - DOCKER_MODS=linuxserver/calibre-web:calibre
        volumes:
          - /home/luckierdodge/montecarlo-storage/data/calibre-web:/config
          - /home/luckierdodge/montecarlo-storage/data/calibre:/books
        ports:
          - 8083:8083
        restart: unless-stopped
    heimdall:
        image: ghcr.io/linuxserver/heimdall
        container_name: heimdall
        environment:
          - PUID=1000
          - PGID=100
          - TZ=America/Detroit
        volumes:
          - /home/luckierdodge/montecarlo-storage/data/heimdall:/config
        ports:
          - 11180:80
          - 11443:443
        restart: unless-stopped
    nextcloud:
        image: ghcr.io/linuxserver/nextcloud
        container_name: nextcloud
        environment:
          - PUID=1000
          - PGID=100
          - TZ=America/Detroit
        volumes:
          - /home/luckierdodge/montecarlo-storage/config/nextcloud:/config
          - /home/luckierdodge/montecarlo-storage/data/nextcloud:/data
        ports:
          - 21443:443
        restart: unless-stopped
    vaultwarden:
        image: vaultwarden/server:latest
        container_name: vaultwarden
        env_file: vaultwarden.env
        volumes:
          - /home/luckierdodge/montecarlo-storage/data/vaultwarden:/data
        ports:
          - 28080:80
          - 23012:3012
    grocy:
        image: ghcr.io/linuxserver/grocy
        container_name: grocy
        environment:
          - PUID=1000
          - PGID=100
          - TZ=America/Detroit
        volumes:
          - /home/luckierdodge/montecarlo-storage/config/grocy:/config
        ports:
          - 9283:80
        restart: unless-stopped
    freshrss:
        image: lscr.io/linuxserver/freshrss:latest
        container_name: freshrss
        environment:
          - PUID=1000
          - PGID=100
          - TZ=America/Detroit
        volumes:
            - /home/luckierdodge/montecarlo-storage/config/freshrss:/config
        ports:
          - 9280:80
        restart: unless-stopped
    bookstack:
       image: lscr.io/linuxserver/bookstack
       container_name: bookstack
       environment:
          - PUID=1000
          - PGID=100
          - APP_URL=https://wiki.ryandlewis.dev
          - DB_HOST=bookstack_db
          - DB_USER=bookstack
          - DB_DATABASE=bookstackapp
       env_file: secret.env
       volumes:
          - /home/luckierdodge/montecarlo-storage/config/bookstack:/config
       ports:
          - 6875:80
       restart: unless-stopped
       depends_on:
          - bookstack_db
    bookstack_db:
       image: lscr.io/linuxserver/mariadb
       container_name: bookstack_db
       environment:
          - PUID=1000
          - PGID=100
          - TZ=America/Detroit
          - MYSQL_DATABASE=bookstackapp
          - MYSQL_USER=bookstack
       env_file: secret.env
       volumes:
          - /home/luckierdodge/montecarlo-storage/config/bookstack_db:/config
       restart: unless-stopped
    syncthing:
      image: lscr.io/linuxserver/syncthing:latest
      container_name: syncthing
      hostname: arksync #optional
      environment:
          - PUID=1000
          - PGID=100
          - TZ=America/Detroit
      volumes:
          - /home/luckierdodge/montecarlo-storage/config/syncthing:/config
          - /home/luckierdodge/montecarlo-storage/data/syncthing/data:/data
      ports:
          - 8384:8384
          - 22000:22000/tcp
          - 22000:22000/udp
          - 21027:21027/udp
      restart: unless-stopped
    onlyoffice:
      image: onlyoffice/documentserver
      container_name: onlyoffice
      restart: unless-stopped
      env_file: onlyoffice.env
      volumes:
          - /home/luckierdodge/montecarlo-storage/config/onlyoffice/logs:/var/log/onlyoffice
          - /home/luckierdodge/montecarlo-storage/data/onlyoffice/certs:/var/www/onlyoffice/Data
          - /home/luckierdodge/montecarlo-storage/data/onlyoffice/onlyoffice:/var/lib/onlyoffice
          - /home/luckierdodge/montecarlo-storage/data/onlyoffice/postgresql:/var/lib/postgresql
      ports:
          - 8282:80
    budge:
        image: lscr.io/linuxserver/budge:latest
        container_name: budge
        environment:
          - PUID=1000
          - PGID=100
          - TZ=America/Detroit
        volumes:
          - /home/luckierdodge/montecarlo-storage/config/budge:/config
        ports:
          - 8980:80
          - 8943:443
        restart: unless-stopped
    foundryvtt:
        image: felddy/foundryvtt:release
        container_name: foundryvtt
        volumes:
          - /home/luckierdodge/montecarlo-storage/data/foundryvtt:/data
        ports:
          - 30000:30000
        restart: unless-stopped
        env_file: foundryvtt.env
